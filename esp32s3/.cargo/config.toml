[build]
target = "xtensa-esp32s3-none-elf"

[target.xtensa-esp32s3-none-elf]
runner = "espflash flash --monitor"
target = "xtensa-esp32s3-none-elf"
rustflags = [
  "-C", "link-arg=-Tlinkall.x",
  "-C", "link-arg=-nostartfiles",
]

[target.xtensa-esp32-none-elf]
runner = "espflash flash --monitor"
target = "xtensa-esp32-none-elf"
rustflags = [
  "-C", "link-arg=-Tlinkall.x",
  "-C", "link-arg=-nostartfiles",
]


[env]
ESP_LOG="info"

# [build]
# rustflags = [
#   "-C", "link-arg=-nostartfiles",
# ]

# target = "${env:TARGET_TRIPLE}"
# target = "xtensa-esp32s3-none-elf"
# target = "xtensa-esp32-none-elf"

[unstable]
build-std = ["core", "alloc"]
#build-std-features = ["compiler-builtins-mem"]
